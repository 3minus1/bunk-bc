<html>

<head>
	<title>BunkBC</title>

     <link rel="stylesheet" href="/style.css">

	 <!--Import Google Icon Font-->
     <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
     
	 <!-- Compiled and minified CSS -->
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/css/materialize.min.css">

     <!--Let browser know website is optimized for mobile-->
     <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

     <!--Import jQuery before materialize.js-->
     <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
      
     <!-- Compiled and minified JavaScript -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/js/materialize.min.js"></script>

   
</head>


<body>
  

<div class="navbar-fixed">
	<nav>
	    <div class="nav-wrapper">
	      <a href="/" class="brand-logo">BunkBC</a>
	      <ul id="nav-mobile" class="right hide-on-med-and-down">
	        <li><a href="about-us.html">About Us</a></li>
	        <li><a href="contact.html">Contact</a></li>
	      </ul>
	    </div>
	</nav>
</div>
<center><h4  class="current_attendance" id="current_attendance"></h4><h4 id="per"> </h4></center>


<center><p>Enter the details to know how many more classes you need to attend or can affort to bunk</p></center>
<hr/>
<div class="row">
    <form class="col s12">
      <div class="percentages">
        <div class="percentage">
          <input class="with-gap" name="min_att" type="radio" id="75" value="75" />
          <label for="75">75%</label>
        </div>
        <div class="percentage">
          <input class="with-gap" name="min_att" type="radio" id="80" value="80" />
          <label for="80">80%</label>
        </div>
        <div class="percentage">
          <input class="with-gap" name="min_att" type="radio" id="85" value="85" checked />
          <label for="85">85%</label>
        </div>
        <div class="percentage">
          <input class="with-gap" name="min_att" type="radio" value="90" id="90" />
          <label for="90">90%</label>
        </div> 
        <div class="percentage">
          <input class="with-gap" name="min_att" type="radio" value="95" id="95"  />
          <label for="95">95%</label>
        </div>
      </div>
      <br/><br/><br/>
      <div class="row">
        <div class="input-field col s6">
          <input id="present" type="text" class="validate">
          <label for="present">Classes Attended</label>
        </div>
        <div class="input-field col s6">
          <input id="conducted" type="text" class="validate">
          <label for="conducted">Classes Conducted</label>
        </div>
      </div>
      <hr/>
      <script>
     	
     function calculate()
     {

     	var conducted = parseInt(document.getElementById("conducted").value);
     	var present = parseInt(document.getElementById("present").value);
     	var min_att = document.getElementsByTagName("form")[0].elements["min_att"].value;
      if(present > conducted)
      {
          document.getElementById("classes_to_attend").innerHTML = "Dude! Are you a human or what?!";
          document.getElementById("current_attendance").innerHTML = "Current Attendance: ";
          document.getElementById("per").innerHTML = "Whoa!";
          document.getElementById("per").style["color"] = "F0800F";
          return;
      }
     	
     	var classes_to_attend = (((min_att/100)*conducted) - present) / ((100-min_att)/100);
     	var classes_bunkable = (present - (min_att/100*conducted))/(min_att/100);
     	
     	if(classes_to_attend > 0)
     		document.getElementById("classes_to_attend").innerHTML = "You need to attend " + Math.ceil(classes_to_attend) + " hours of classes";
     	else
     		document.getElementById("classes_to_attend").innerHTML = "You can afford to bunk " + Math.floor(classes_bunkable) + " hours of classes";
      var current_attendance = present/conducted*100;
      document.getElementById("current_attendance").innerHTML = "Current Attendance: ";
      document.getElementById("per").innerHTML = current_attendance.toFixed(2) + "%";
      if(current_attendance>85)
          document.getElementById("per").style["color"] = "#46BD36";
      else if(current_attendance>75)
          document.getElementById("per").style["color"] = "#DACA40";
      else 
          document.getElementById("per").style["color"] = "#C70039";
      
     	
     }

     </script>
      <button onClick="calculate()" class="btn waves-effect waves-light btn-large col m12 l12 s12" type="button" name="action">Bunk Behenc**d!
   		 <i class="material-icons right">send</i>
  	  </button>
    </form>
  </div>

 <center><h3 id="classes_to_attend"></h3></center>



</body>

</html>